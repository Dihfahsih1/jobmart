{% extends 'base.html' %}
{% block title %}
    Employee Register
{% endblock %}
{% load static %}

{% block content %}

<div class="col-lg-6 offset-3">
    <div class="box">
        <h3 class="heading">New account</h3>
        <p class="lead">Not registered yet?</p>
        <!-- <p class="text-muted">If you have any questions, please feel free to <a href="#">contact us</a>,
            our customer service center is working for you 24/7.</p> -->
        {% if form.errors %}
            {% for field in form %}
                {% for error in field.errors %}
                    <div class="alert alert-danger alert-dismissable">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <div class="alert alert-danger alert-dismissable">
                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endif %}
        <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <h3>Your Skills</h3>

                <table class="table">
                    {{ addskills.management_form }}
        
                    {% for form in addskills.forms %}
                        {% if forloop.first %}
                            <thead>
                            <tr>
                                {% for field in form.visible_fields %}
                                    <th>{{ field.label|capfirst }}</th>
                                {% endfor %}
                            </tr>
                            </thead>
                        {% endif %}
                        <tr class="{% cycle row1 row2 %} formset_row">
                            {% for field in form.visible_fields %}
                                <td>
                                    {# Include the hidden fields in the form #}
                                    {% if forloop.first %}
                                        {% for hidden in form.hidden_fields %}
                                            {{ hidden }}
                                        {% endfor %}
                                    {% endif %}
                                    {{ field.errors.as_ul }}
                                    {{ field }}
                                </td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                </table>
            {% for field in form %}
                {% if field.name == 'gender' %}

                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <br>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="male gender"
                                   value="male">
                            <label class="form-check-label" for="male">Male</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="female"
                                   value="female">
                            <label class="form-check-label" for="female">Female</label>
                        </div>
                    </div>

                {% else %}

                    <div class="form-group">
                        <label for="id_{{ field.name }}">{{ field.label }}</label>
                        <input type="{{ field.field.widget.input_type }}" class="form-control" name="{{ field.name }}" id="id_{{ field.name }}" placeholder="{{ field.field.widget.attrs.placeholder }}">
                    </div>
                    
                {% endif %}
            {% endfor %}

                
            
            <br>
            <hr>
            <div class="text-center">
                <button type="submit" class="btn btn-outline-white-primary"><i class="fa fa-user-md"></i> Register
                </button>
            </div>
        </form>
    </div>
    <p class="lead">Already have an account? <a href="{% url 'accounts:login' %}"> Please Login</a></p>
</div>




    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="{% static 'formset/jquery.formset.js' %}"></script>
    <script type="text/javascript">
        $('.formset_row').formset({
            addText: 'Add More Skills',
            deleteText: 'Remove',
            prefix: 'skillset_set'
        });
    </script>
{% endblock %}